# Task2 EDA-数据探索性分析

## 1. EDA 目标 (Exploratory Data Analysis)
   EDA 的价值主要在于熟悉数据集，了解数据集，对数据集进行验证来确定所获得数据集可以用于接下 来的机器学习或者深度学习使用。<br>
   当了解了数据集之后我们下一步就是要去了解变量间的相互关系以及变量与预测值之间的存在关系。<br>
   引导数据科学从业者进行数据处理以及特征工程的步骤,使数据集的结构和特征集让接下来的预测问 题更加可靠。<br>
## 2. 内容及步骤
   
```
载入各种数据科学以及可视化库:
   数据科学库 pandas、numpy、scipy；
   可视化库 matplotlib、seabon；
   其他；
   载入数据：
   载入训练集和测试集；
   简略观察数据(head()+shape)；
   数据总览:
   通过 describe()来熟悉数据的相关统计量
   通过 info()来熟悉数据类型
   判断数据缺失和异常
   查看每列的存在 nan 情况
   异常值检测
   了解预测值的分布
   总体分布概况（无界约翰逊分布等）
   查看 skewness and kurtosis
   查看预测值的具体频数
   特征分为类别特征和数字特征，并对类别特征查看 unique 分布
   数字特征分析
   相关性分析
   查看几个特征得 偏度和峰值
   每个数字特征得分布可视化
   数字特征相互之间的关系可视化
   多变量互相回归关系可视化
   类型特征分析
   unique 分布
   类别特征箱形图可视化
   类别特征的小提琴图可视化
   类别特征的柱形图可视化类别
   特征的每个类别频数可视化(count_plot)
   用 pandas_profiling 生成数据报告
```

## 3. 代码实战
**1 载入包和数据**

```
**载入各种数据科学以及可视化库**
#coding:utf-8 #导入 warnings 包，利用过滤器来实现忽略警告语句。
import warnings
warnings.filterwarnings('ignore')

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import missingno as msno
```


```
**载入数据**
载入训练集和测试集；
path = './datalab/231784/'
Train_data = pd.read_csv(path+'used_car_train_20200313.csv', sep=' ')
Test_data = pd.read_csv(path+'used_car_testA_20200313.csv', sep=' ')
所有特征集均脱敏处理(方便大家观看)
name - 汽车编码
regDate - 汽车注册时间
model - 车型编码
brand - 品牌
bodyType - 车身类型
fuelType - 燃油类型
gearbox - 变速箱
power - 汽车功率
kilometer - 汽车行驶公里
notRepairedDamage - 汽车有尚未修复的损坏
regionCode - 看车地区编码
seller - 销售方
offerType - 报价类型
creatDate - 广告发布时间
price - 汽车价格
v_0', 'v_1', 'v_2', 'v_3', 'v_4', 'v_5', 'v_6', 'v_7', 'v_8', 'v_9', 'v_10', 'v_11', 'v_12', 'v_13','v_14' 【匿名特征，包含 v0-14 在内 15 个匿名特征】
```


**2. 简略观察数据(head()+shape)**
   
```
Train_data.head().append(Train_data.tail())
```

   SaleIDnameregDatemodelbrandbodyTypefuelTypegearboxpowerkilometer…v_5v_6v_7v_8v_9v_10v_11v_12v_13v_14
   01500006693220111212222.045.01.01.031315.0…0.2644050.1218000.0708990.1065580.078867-7.050969-0.8546264.8001510.620011-3.664654
   11500011749601999021119.0210.00.00.07512.5…0.2617450.0000000.0967330.0137050.0523833.679418-0.729039-3.796107-1.541230-0.757055
   215000253562009030482.0210.00.00.01097.0…0.2602160.1120810.0780820.0620780.050540-4.9266901.0011060.8265620.1382260.754033
   315000350688201004050.000.00.01.01607.0…0.2604660.1067270.0811460.0759710.048268-4.8646370.5054931.8703790.3660381.312775
   41500041614281997070326.0142.00.00.07515.0…0.2509990.0000000.0778060.0286000.0817093.616475-0.673236-3.197685-0.025678-0.101290
   4999519999520903199605034.044.00.00.011615.0…0.2846640.1300440.0498330.0288070.004616-5.9785111.303174-1.207191-1.981240-0.357695
   49996199996708199910110.000.00.00.07515.0…0.2681010.1080950.0660390.0254680.025971-3.9138251.759524-2.075658-1.1548470.169073
   4999719999766932004041249.010.01.01.022415.0…0.2694320.1057240.1176520.0574790.015669-4.6390650.6547131.137756-1.3905310.254420
   49998199998969002002000827.010.00.01.033415.0…0.2611520.0004900.1373660.0862160.0513831.833504-2.8286872.465630-0.911682-2.057353
   4999919999919338420041109166.061.0NaN1.0689.0…0.2287300.0003000.1035340.0806250.1242642.914571-1.1352700.5476282.094057-1.552150
  
  目标：要养成看数据集的 head()以及 shape 的习惯，这会让你每一步更放心，导致接下里的连串的错误, 如果对自己的 pandas 等操作不放心，建议执行一步看一下，这样会有效的方便你进行理解函数并进行操作<br>
  
**3. 总览数据概况(describe，info）**<br>
   describe 中有每列的统计量，个数 count、平均值 mean、方差 std、最小值 min、中位数 25% 50% 75% 、以及最大值 看这个信息主要是瞬间掌握数据的大概的范围以及每个值的异常值的判断，比如有的时候会发现 999 9999 -1 等值这些其实都是 nan 的另外一种表达方式，有的时候需要注意下<br>
   info 通过 info 来了解数据每列的 type，有助于了解是否存在除了 nan 以外的特殊符号异常<br>
   
> **3.1) 通过 describe()来熟悉数据的相关统计量**<br>
```
   Train_data.describe()
```
   SaleIDnameregDatemodelbrandbodyTypefuelTypegearboxpowerkilometer…v_5v_6v_7v_8v_9v_10v_11v_12v_13v_14
   count150000.000000150000.0000001.500000e+05149999.000000150000.000000145494.000000141320.000000144019.000000150000.000000150000.000000…150000.000000150000.000000150000.000000150000.000000150000.000000150000.000000150000.000000150000.000000150000.000000
   mean74999.50000068349.1728732.003417e+0747.1290218.0527331.7923690.3758420.224943119.31654712.597160…0.2482040.0449230.1246920.0581440.061996-0.0010000.0090350.0048130.000313
   std43301.41452761103.8750955.364988e+0449.5360407.8649561.7606400.5486770.417546177.1684193.919576…0.0458040.0517430.2014100.0291860.0356923.7723863.2860712.5174781.288988
   min0.0000000.0000001.991000e+070.0000000.0000000.0000000.0000000.0000000.0000000.500000…0.0000000.0000000.0000000.0000000.000000-9.168192-5.558207-9.639552-4.153899
   25%37499.75000011156.0000001.999091e+0710.0000001.0000000.0000000.0000000.00000075.00000012.500000…0.2436150.0000380.0624740.0353340.033930-3.722303-1.951543-1.871846-1.057789
   50%74999.50000051638.0000002.003091e+0730.0000006.0000001.0000000.0000000.000000110.00000015.000000…0.2577980.0008120.0958660.0570140.0584841.624076-0.358053-0.130753-0.036245
   75%112499.250000118841.2500002.007111e+0766.00000013.0000003.0000001.0000000.000000150.00000015.000000…0.2652970.1020090.1252430.0793820.0874912.8443571.2550221.7769330.942813
   max149999.000000196812.0000002.015121e+07247.00000039.0000007.0000006.0000001.00000019312.00000015.000000…0.2918380.1514201.4049360.1607910.22278712.35701118.81904213.84779211.147669
   
> **3.2) 通过 .info() 简要可以看到对应一些数据列名，以及 NAN 缺失信息**<br>
```
   Train_data.info()
```
   <class 'pandas.core.frame.DataFrame'>
   RangeIndex: 150000 entries, 0 to 149999
   Data columns (total 31 columns):
   SaleID 150000 non-null int64
   name 150000 non-null int64
   regDate 150000 non-null int64
   model 149999 non-null float64
   brand 150000 non-null int64
   bodyType 145494 non-null float64
   fuelType 141320 non-null float64
   gearbox 144019 non-null float64
   power 150000 non-null int64
   kilometer 150000 non-null float64
   notRepairedDamage 150000 non-null object
   regionCode 150000 non-null int64
   seller 150000 non-null int64
   offerType 150000 non-null int64
   creatDate 150000 non-null int64
   price 150000 non-null int64
   v_0 150000 non-null float64
   v_1 150000 non-null float64
   v_2 150000 non-null float64
   v_3 150000 non-null float64
   v_4 150000 non-null float64
   v_5 150000 non-null float64
   v_6 150000 non-null float64
   v_7 150000 non-null float64
   v_8 150000 non-null float64
   v_9 150000 non-null float64
   v_10 150000 non-null float64
   v_11 150000 non-null float64
   v_12 150000 non-null float64
   v_13 150000 non-null float64
   v_14 150000 non-null float64
   dtypes: float64(20), int64(10), object(1)
   memory usage: 35.5+ MB
   
   
**3.3) 判断数据缺失和异常**

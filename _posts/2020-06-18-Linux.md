---
title: Linux
layout: post
tags: Docker_Flask
categories: ''

---
### Linux

![image-20200620143618758](C:\Users\zheng\AppData\Roaming\Typora\typora-user-images\image-20200620143618758.png)

### Linux基础 

#### Part 1 Linux常用命令

### 基本快捷键的使用

（1）Tab，补充命令

不用输入完整的命令，输入命令前几个字母后Tab键，会自动补全命令提示。

（2）移动光标命令

**Ctrl+A：移动光标到开头**

**Ctrl+E：移动光标到结尾**

Ctrl+F：往光标后面移动一个字符

Ctrl+B：往光标前面移动一个字符

（3）剪切字符

Ctrl+K：剪切光标处到行尾的字符

Ctrl+U：剪切光标处到行首的字符

**Ctrl+Y：将剪切的字符进行粘贴**

（4）复制粘贴

Ctrl+Ins：复制

Shift+Ins：粘贴

（5）中断正在运行的命令行

Ctrl+C

（6）退出当前Xshell

Ctrl+D

（7）搜索命令行使用过的历史命令记录

Ctrl+R

![img](https://img2018.cnblogs.com/blog/1486105/201906/1486105-20190607162237391-908991423.png)

（8）获取上一条命令的最后部分，用空格分隔开来的部分

ESC+.

![img](https://img2018.cnblogs.com/blog/1486105/201906/1486105-20190607162514973-1746142012.png)

（9）清屏命令

Ctrl+L

![img](https://img2018.cnblogs.com/blog/1486105/201906/1486105-20190607162600112-49042492.png)

（10）暂停命令

Ctrl+Z

![img](https://img2018.cnblogs.com/blog/1486105/201906/1486105-20190607162736245-1238925794.png)

如上面sleep 40命令执行后一直动不了，光标一直在闪，按Ctrl+Z后就可以重新回到命令行

（11）锁屏

Ctrl+S

（12）解除锁屏

Ctrl+Q

（13） ！+ 命令 执行上一条命令，!! 执行上两条命令



### Vim操作

所有的 Unix Like 系统都会内建 vi 文书编辑器，其他的文书编辑器则不一定会存在。

但是目前我们使用比较多的是 vim 编辑器。

vim 具有程序编辑的能力，可以主动的以字体颜色辨别语法的正确性，方便程序设计。

#### vi/vim 的使用

基本上 vi/vim 共分为三种模式，分别是**命令模式（Command mode）**，**输入模式（Insert mode）**和**底线命令模式（Last line mode）**。 这三种模式的作用分别是：

#### 命令模式：

用户刚刚启动 vi/vim，便进入了命令模式。

此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。

以下是常用的几个命令：

- **i** 切换到输入模式，以输入字符。
- **x** 删除当前光标所在处的字符。
- **:** 切换到底线命令模式，以在最底一行输入命令。

若想要编辑文本：启动Vim，进入了命令模式，按下i，切换到输入模式。

命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。

#### 输入模式

在命令模式下按下i就进入了输入模式。

在输入模式中，可以使用以下按键：

- **字符按键以及Shift组合**，输入字符
- **ENTER**，回车键，换行
- **BACK SPACE**，退格键，删除光标前一个字符
- **DEL**，删除键，删除光标后一个字符
- **方向键**，在文本中移动光标
- **HOME**/**END**，移动光标到行首/行尾
- **Page Up**/**Page Down**，上/下翻页
- **Insert**，切换光标为输入/替换模式，光标将变成竖线/下划线
- **ESC**，退出输入模式，切换到命令模式

#### 底线命令模式

在命令模式下按下:（英文冒号）就进入了底线命令模式。

底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。

在底线命令模式中，基本的命令有（已经省略了冒号）：

- q 退出程序
- w 保存文件

按ESC键可随时退出底线命令模式。

















### Linux docker 安装教程

```linux
sudo apt-get update
sudo apt-get install -y docker.io
```

安装vim

```
sudo apt install vim
```

配置加速器（阿里云加速器）

```
sudo mkdir -p /etc/docker

sudo tee /etc/docker/daemon.json <<-'EOF'

{ 

 "registry-mirrors": ["https://lnwifaa6.mirror.aliyuncs.com"] 

}

EOF

sudo systemctl daemon-reload 

sudo systemctl restart docker
```

切换为root

```
sudo -i
```

退出root

```
exit
```





### Linux安装python

卸载python只需一条语句就可以实现

```
sudu apt-get remove python
```

**ubuntu下安装python3**

```
sudo apt-get install python3
```

但这样只安装了python3.4

要想使用python3.5，则必须升级python3.4

```
sudo add-apt-repository ppa:fkrull/deadsnakes
sudo apt-get update
sudo apt-get install python3.5
```

使用以上三行命令便可升级python3.4到python3.5

启动时要输入python3.5

输入python时启动的是python2.7

输入python3时启动的是python3.4

输入python3.5时启动的才是python3.5

**安装pip（切换到root下）**

```
wget https://bootstrap.pypa.io/get-pip.py  
python get-pip.py 
```

```
apt-get install python3-pip
```

**pycharm快捷方式创建**

https://www.cnblogs.com/Jimc/p/10303896.html

### Linux创建python环境

https://www.cnblogs.com/HeZhengfa/p/10486841.html

第一步 安装 virtualenv

```
sudo apt install virtualenv
```

第二步 创建虚拟环境文件夹（venv为文件夹名）

```
virtualenv venv --python=python3
```

第三步 激活环境

```
source venv/bin/activate
```

第四步 安装python包

```
pip install -r requirements.txt 
```

### Linux - ubuntu换源

https://blog.csdn.net/weixin_40289171/article/details/88180549?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-5.channel_param&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-5.channel_param

1.备份原来的源文件

```
cd /etc/apt/
```

输入命令

```
sudo cp sources.list sources.list.bak
```

就是将sources.list被分到sources.list.bak

2.替换源

```
sudo gedit sources.list
```

删除原来的所有内容，替换成清华或者阿里的源。

```
# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse

# 预发布软件源，不建议启用
# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse
12345678910111213
```

> 这是清华的源

```
deb http://mirrors.aliyun.com/ubuntu/ xenial main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial main

deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main

deb http://mirrors.aliyun.com/ubuntu/ xenial universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial universe
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universe

deb http://mirrors.aliyun.com/ubuntu/ xenial-security main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main
deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe
123456789101112131415
```

> 这是阿里的源

3.更新源和软件

```
sudo apt-get update      #更新源
sudo apt-get upgrade     #更新软件
```

打完收工！